var _0x58c2=['wrong\x20unit-id\x20serial\x20(1..247)','wrong\x20serial\x20port','ASCII','ASCII\x20port\x20serial','setSerialConnectionOptions','RTU','modbusSerialErrorHandling','RTU\x20buffered\x20port\x20serial','connectRTUBuffered','connect','modbusSerialDebug','modbus\x20tcp\x20connected\x20on\x20','openserial','openSerialClient','modbusErrorHandling','modbusErrorHandling:','networkErrors','includes','errno','modbusTcpErrorHandling:','modbusSerialErrorHandling:','OPENED','time\x20to\x20open\x20Unit\x20','modbus\x20connection\x20opened','_port','wrong\x20state\x20on\x20connect\x20serial\x20','modbus\x20connection\x20not\x20opened\x20state\x20is\x20%s','onModbusClose','modbus\x20closed\x20port','pushToQueueByUnitId','queueUnit','push\x20to\x20Queue\x20by\x20Unit-Id','push','push\x20to\x20Queue\x20by\x20default\x20Unit-Id','readModbus','queueNumber','queue\x20read\x20msg','read\x20msg','getTimeout','readCoils','address','quantity','activateSending','readDiscreteInputs','readHoldingRegisters','Function\x20Code\x20Unknown','writeModbus','queue\x20write\x20msg','write','setTimeout','write\x20msg','value','Quantity\x20should\x20be\x20less\x20or\x20equal\x20to\x20coil\x20payload\x20array\x20length:\x20','\x20Addr:\x20','\x20Q:\x20','Quantity\x20should\x20be\x20less\x20or\x20equal\x20to\x20register\x20payload\x20array\x20length:\x20','writeRegisters','Function\x20Code\x20Unknown\x20%s','queue\x20response\x20activate\x20sending','initialized','setMaxListeners','reconnect','dynamicReconnect','invalidPayloadIn','Message\x20Or\x20Payload\x20Not\x20Valid','Dynamic\x20Reconnect\x20Parameters\x20','connectorType','TCP','New\x20Connection\x20Data\x20','Unknown\x20Dynamic\x20Reconnect\x20Type\x20','unitId','stop','close\x20node','registerForModbus','keys','registeredNodeList','deregisterForModbus','SE_Modbus-Client','httpAdmin','auth','needsPermission','serial.read','list','json','../src/modbus-basics','nodes','clienttype','bufferCommands','stateLogEnabled','tcpHost','tcpPort','tcpType','serialPort','serialBaudrate','serialDatabits','serialStopbits','serialParity','serialType','serialConnectionDelay','unit_id','commandDelay','clientTimeout','reconnectTimeout','isFirstInitOfConnection','closingModbus','client','bufferCommandList','sendAllowed','unitSendingAllowed','messagesAllowedStates','serverInfo','statlyMachine','getMachineEvents','initQueue','clear','set','checkUnitId','tcp','setUnitIdFromPayload','payload','unitid','isInteger','setID','queueUnitId','isNaN','sequentialDequeueCommand','shift','get','length','stringify','queue\x20check','serial\x20sending\x20and\x20wait','callModbus','cberr','queue\x20check\x20is\x20not\x20a\x20unit','empty','getMachineState','messageAllowedStates','indexOf','dequeue\x20command\x20disallowed\x20state','dequeue\x20command\x20','checkQueuesAreEmpty','updateServerinfo','\x20TCP@','bit/s','warn','settings','internalDebug','Client\x20->\x20','onNEW','after\x20event:\x20','\x20old:\x20','\x20new:\x20','onINIT','connectClient','client\x20connection\x20error','reconnect\x20in\x20','\x20ms','event:\x20','mbinit','emit','mbconnected','activate','onACTIVATED','mbactive','queue','onQUEUEING','dequeueCommand','mbqueue','onOPENED','onCLOSED','mbclosed','break','onFAILED','mberror','onBROKEN','init','close','connection\x20closed','message','error','wrong\x20unit-id\x20(0..255)','failure','C701','connectC701','setTCPConnectionOptions','then','setTCPConnected','modbusTcpErrorHandling','TELNET','Telnet\x20port','connectTelnet','TPC-RTU-BUFFERED','TCP\x20RTU\x20buffered\x20port','connectTcpRTUBuffered','catch','TCP\x20port'];(function(_0x14c656,_0x41a958){var _0x377dcd=function(_0x2561bc){while(--_0x2561bc){_0x14c656['push'](_0x14c656['shift']());}};_0x377dcd(++_0x41a958);}(_0x58c2,0x1de));var _0x29e1=function(_0x2a7b53,_0x136553){_0x2a7b53=_0x2a7b53-0x0;var _0x34f401=_0x58c2[_0x2a7b53];return _0x34f401;};module['exports']=function(_0x181db3){'use strict';// SOURCE-MAP-REQUIRED
let _0x4a7c28=require(_0x29e1('0x0'));let _0x3a5558=require('../src/modbus-client-core');function _0x38e55d(_0x15f607){_0x181db3[_0x29e1('0x1')]['createNode'](this,_0x15f607);let _0x49676b=require('modbus-serial');const _0x5478f8=0x0;const _0x3ccd00=0x1;const _0x4a011e=0x1;const _0x4e1ec9=0x1f4;const _0x45b874=0x3e8;const _0x1d6ce1=0x7d0;this[_0x29e1('0x2')]=_0x15f607[_0x29e1('0x2')];this[_0x29e1('0x3')]=_0x15f607[_0x29e1('0x3')];this[_0x29e1('0x4')]=_0x15f607['stateLogEnabled'];this[_0x29e1('0x5')]=_0x15f607['tcpHost'];this[_0x29e1('0x6')]=parseInt(_0x15f607[_0x29e1('0x6')])||0x1f6;this[_0x29e1('0x7')]=_0x15f607[_0x29e1('0x7')];this['serialPort']=_0x15f607[_0x29e1('0x8')];this['serialBaudrate']=_0x15f607[_0x29e1('0x9')];this[_0x29e1('0xa')]=_0x15f607[_0x29e1('0xa')];this[_0x29e1('0xb')]=_0x15f607[_0x29e1('0xb')];this[_0x29e1('0xc')]=_0x15f607[_0x29e1('0xc')];this[_0x29e1('0xd')]=_0x15f607['serialType'];this[_0x29e1('0xe')]=parseInt(_0x15f607[_0x29e1('0xe')])||_0x4e1ec9;this[_0x29e1('0xf')]=parseInt(_0x15f607[_0x29e1('0xf')])||_0x4a011e;this[_0x29e1('0x10')]=parseInt(_0x15f607[_0x29e1('0x10')])||_0x3ccd00;this[_0x29e1('0x11')]=parseInt(_0x15f607[_0x29e1('0x11')])||_0x45b874;this['reconnectTimeout']=parseInt(_0x15f607[_0x29e1('0x12')])||_0x1d6ce1;let _0x24c08f=this;_0x24c08f[_0x29e1('0x13')]=!![];_0x24c08f[_0x29e1('0x14')]=![];_0x24c08f[_0x29e1('0x15')]=null;_0x24c08f[_0x29e1('0x16')]=new Map();_0x24c08f[_0x29e1('0x17')]=new Map();_0x24c08f[_0x29e1('0x18')]=[];_0x24c08f['messageAllowedStates']=_0x3a5558[_0x29e1('0x19')];_0x24c08f[_0x29e1('0x1a')]='';_0x24c08f[_0x29e1('0x1b')]=null;_0x24c08f[_0x29e1('0x1b')]=_0x3a5558['createStatelyMachine']();_0x5eccd9('start:\x20'+_0x24c08f[_0x29e1('0x1b')]['getMachineState']());_0x5eccd9('FSM\x20events:'+_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x1c')]());_0x24c08f[_0x29e1('0x1d')]=function(){_0x24c08f[_0x29e1('0x16')][_0x29e1('0x1e')]();_0x24c08f['sendAllowed'][_0x29e1('0x1e')]();_0x24c08f[_0x29e1('0x18')]=[];for(let _0x28bf39=0x0;_0x28bf39<=0xff;_0x28bf39++){_0x24c08f[_0x29e1('0x16')][_0x29e1('0x1f')](_0x28bf39,[]);_0x24c08f[_0x29e1('0x17')][_0x29e1('0x1f')](_0x28bf39,!![]);}};_0x24c08f[_0x29e1('0x20')]=function(_0x4b3d76){if(_0x24c08f['clienttype']===_0x29e1('0x21')){return _0x4b3d76>=0x0&&_0x4b3d76<=0xff;}else{return _0x4b3d76>=0x1&&_0x4b3d76<=0xf7;}};_0x24c08f[_0x29e1('0x22')]=function(_0x2b91ec){let _0x2ec29b=parseInt(_0x2b91ec[_0x29e1('0x23')][_0x29e1('0x24')]);if(Number[_0x29e1('0x25')](_0x2ec29b)){_0x24c08f[_0x29e1('0x15')][_0x29e1('0x26')](_0x2ec29b);_0x2b91ec[_0x29e1('0x27')]=_0x2ec29b;}else{if(!_0x24c08f[_0x29e1('0x20')](_0x24c08f[_0x29e1('0xf')])){_0x24c08f['unit_id']=_0x4a011e;}_0x24c08f[_0x29e1('0x15')][_0x29e1('0x26')](_0x24c08f[_0x29e1('0xf')]);_0x2b91ec[_0x29e1('0x27')]=_0x24c08f['unit_id'];}};if(Number[_0x29e1('0x28')](_0x24c08f[_0x29e1('0xf')])||!_0x24c08f[_0x29e1('0x20')](_0x24c08f[_0x29e1('0xf')])){_0x24c08f[_0x29e1('0xf')]=_0x4a011e;}_0x24c08f[_0x29e1('0x29')]=function(){let _0x1a3638=null;let _0x502ec4=!![];let _0x5f45f3=parseInt(_0x24c08f[_0x29e1('0x18')][_0x29e1('0x2a')]());if(Number[_0x29e1('0x25')](_0x5f45f3)&&_0x24c08f[_0x29e1('0x16')][_0x29e1('0x2b')](_0x5f45f3)[_0x29e1('0x2c')]>0x0){_0x1292df(JSON[_0x29e1('0x2d')]({'type':_0x29e1('0x2e'),'unitid':_0x5f45f3,'sendAllowed':_0x24c08f[_0x29e1('0x17')]['get'](_0x5f45f3),'queueLength':_0x24c08f[_0x29e1('0x16')][_0x29e1('0x2b')](_0x5f45f3)[_0x29e1('0x2c')]}));if(_0x24c08f[_0x29e1('0x17')]['get'](_0x5f45f3)){_0x1a3638=_0x24c08f[_0x29e1('0x16')][_0x29e1('0x2b')](_0x5f45f3)[_0x29e1('0x2a')]();if(_0x1a3638){_0x24c08f['sendAllowed'][_0x29e1('0x1f')](_0x5f45f3,![]);_0x1292df(JSON[_0x29e1('0x2d')]({'type':_0x29e1('0x2f'),'unitid':_0x5f45f3,'queueLength':_0x24c08f['bufferCommandList'][_0x29e1('0x2b')](_0x5f45f3)[_0x29e1('0x2c')],'sendAllowedForNext':_0x24c08f[_0x29e1('0x17')][_0x29e1('0x2b')](_0x5f45f3),'delay':_0x24c08f['commandDelay']}));if(_0x24c08f[_0x29e1('0x16')]['get'](_0x5f45f3)['length']>0x0){_0x24c08f[_0x29e1('0x18')]['push'](_0x5f45f3);}_0x502ec4=![];_0x1a3638[_0x29e1('0x30')](_0x1a3638['msg'],_0x1a3638['cb'],_0x1a3638[_0x29e1('0x31')]);}}}else{_0x1292df(JSON[_0x29e1('0x2d')]({'type':_0x29e1('0x32'),'unitid':_0x5f45f3}));}if(_0x502ec4){_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x33')]();}};_0x24c08f['dequeueCommand']=function(){let _0x4e6292=_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x34')]();if(_0x24c08f[_0x29e1('0x35')][_0x29e1('0x36')](_0x4e6292)===-0x1){_0x1292df(JSON[_0x29e1('0x2d')]({'state':_0x4e6292,'message':_0x29e1('0x37'),'delay':_0x24c08f[_0x29e1('0x10')]}));}else{_0x1292df(JSON[_0x29e1('0x2d')]({'state':_0x4e6292,'message':_0x29e1('0x38')+_0x24c08f[_0x29e1('0x2')],'delay':_0x24c08f[_0x29e1('0x10')]}));_0x24c08f[_0x29e1('0x29')]();}if(_0x24c08f[_0x29e1('0x39')]()){_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x33')]();}};_0x24c08f[_0x29e1('0x39')]=function(){let _0x1fb1c9=!![];for(let _0x4b3144=0x0;_0x4b3144<=0xff;_0x4b3144++){_0x1fb1c9&=_0x24c08f['bufferCommandList'][_0x29e1('0x2b')](_0x4b3144)['length']>0x0;}return _0x1fb1c9;};_0x24c08f[_0x29e1('0x3a')]=function(){if(_0x24c08f[_0x29e1('0x2')]===_0x29e1('0x21')){_0x24c08f[_0x29e1('0x1a')]=_0x29e1('0x3b')+_0x24c08f['tcpHost']+':'+_0x24c08f[_0x29e1('0x6')];}else{_0x24c08f['serverInfo']='\x20Serial@'+_0x24c08f[_0x29e1('0x8')]+':'+_0x24c08f['serialBaudrate']+_0x29e1('0x3c');}_0x24c08f[_0x29e1('0x1a')]+='\x20default\x20Unit-Id:\x20'+_0x24c08f['unit_id'];};function _0x559b21(_0x1136df){if(_0x181db3['settings']['verbose']){_0x24c08f[_0x29e1('0x3d')]('Client\x20->\x20'+_0x1136df+_0x24c08f[_0x29e1('0x1a')]);}}function _0x3476dc(_0x10e9a0){if(_0x181db3[_0x29e1('0x3e')]['verbose']){_0x3a5558[_0x29e1('0x3f')](_0x29e1('0x40')+_0x10e9a0+_0x24c08f[_0x29e1('0x1a')]);}}function _0x5eccd9(_0x430a6f){if(_0x24c08f['stateLogEnabled']){_0x3476dc(_0x430a6f);}}function _0x1292df(_0x4d169f){if(_0x24c08f[_0x29e1('0x3')]){_0x3476dc(_0x4d169f);}}_0x24c08f['statlyMachine'][_0x29e1('0x41')]=function(_0x1d823e,_0x410696,_0x3147cf){_0x5eccd9(_0x29e1('0x42')+_0x1d823e+_0x29e1('0x43')+_0x410696+_0x29e1('0x44')+_0x3147cf);};_0x24c08f['statlyMachine'][_0x29e1('0x45')]=function(_0x610e4a,_0x645fcd,_0x45030b){_0x5eccd9(_0x29e1('0x42')+_0x610e4a+_0x29e1('0x43')+_0x645fcd+_0x29e1('0x44')+_0x45030b);_0x24c08f[_0x29e1('0x3a')]();_0x24c08f['initQueue']();try{if(_0x24c08f[_0x29e1('0x13')]){_0x24c08f['isFirstInitOfConnection']=![];setTimeout(_0x24c08f[_0x29e1('0x46')],_0x4e1ec9);}else{setTimeout(_0x24c08f['connectClient'],_0x24c08f[_0x29e1('0x12')]);}}catch(_0x1a97ef){_0x24c08f['error'](_0x1a97ef,{'payload':_0x29e1('0x47')});}_0x559b21(_0x29e1('0x48')+_0x24c08f[_0x29e1('0x12')]+_0x29e1('0x49'));_0x3476dc(_0x29e1('0x4a')+_0x610e4a+_0x29e1('0x43')+_0x645fcd+_0x29e1('0x44')+_0x45030b);_0x24c08f['emit'](_0x29e1('0x4b'));};_0x24c08f[_0x29e1('0x1b')]['onCONNECTED']=function(_0x320595,_0x112d99,_0x105e6d){_0x5eccd9('event:\x20'+_0x320595+_0x29e1('0x43')+_0x112d99+_0x29e1('0x44')+_0x105e6d);_0x24c08f[_0x29e1('0x4c')](_0x29e1('0x4d'));_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x4e')]();};_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x4f')]=function(_0x428492,_0x16d554,_0x29a4e7){_0x5eccd9(_0x29e1('0x4a')+_0x428492+'\x20old:\x20'+_0x16d554+_0x29e1('0x44')+_0x29a4e7);_0x24c08f[_0x29e1('0x4c')](_0x29e1('0x50'));if(_0x24c08f[_0x29e1('0x3')]){_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x51')]();}};_0x24c08f['statlyMachine'][_0x29e1('0x52')]=function(_0x4ede63,_0x3487d7,_0x2e75f6){_0x5eccd9(_0x29e1('0x4a')+_0x4ede63+_0x29e1('0x43')+_0x3487d7+_0x29e1('0x44')+_0x2e75f6);setTimeout(_0x24c08f[_0x29e1('0x53')],_0x24c08f[_0x29e1('0x10')]);_0x24c08f[_0x29e1('0x4c')](_0x29e1('0x54'));};_0x24c08f['statlyMachine'][_0x29e1('0x55')]=function(_0xf30ebb,_0x396c36,_0x3b669b){_0x3476dc(_0x29e1('0x4a')+_0xf30ebb+_0x29e1('0x43')+_0x396c36+'\x20new:\x20'+_0x3b669b);_0x24c08f['emit']('mbopen');};_0x24c08f['statlyMachine'][_0x29e1('0x56')]=function(_0x3a4644,_0x640b3f,_0xe96ab5){_0x5eccd9('event:\x20'+_0x3a4644+_0x29e1('0x43')+_0x640b3f+_0x29e1('0x44')+_0xe96ab5);_0x24c08f['emit'](_0x29e1('0x57'));_0x24c08f['statlyMachine'][_0x29e1('0x58')]();};_0x24c08f['statlyMachine'][_0x29e1('0x59')]=function(_0x26aa70,_0x19f2c7,_0x2ab650){_0x5eccd9(_0x29e1('0x4a')+_0x26aa70+_0x29e1('0x43')+_0x19f2c7+_0x29e1('0x44')+_0x2ab650);_0x24c08f[_0x29e1('0x4c')](_0x29e1('0x5a'),'FSM\x20Reset\x20On\x20State\x20'+_0x19f2c7);_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x58')]();};_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x5b')]=function(_0x336d13,_0x36f224,_0x17ae71){_0x5eccd9(_0x29e1('0x4a')+_0x336d13+_0x29e1('0x43')+_0x36f224+_0x29e1('0x44')+_0x17ae71);_0x24c08f['emit']('mbbroken');if(_0x24c08f[_0x29e1('0x12')]<=0x0){_0x24c08f[_0x29e1('0x12')]=_0x1d6ce1;}_0x559b21('try\x20to\x20reconnect\x20by\x20init\x20in\x20'+_0x24c08f[_0x29e1('0x12')]+_0x29e1('0x49'));setTimeout(_0x24c08f['statlyMachine'][_0x29e1('0x5c')],_0x24c08f[_0x29e1('0x12')]);};_0x24c08f[_0x29e1('0x46')]=function(){if(_0x24c08f[_0x29e1('0x15')]){try{_0x24c08f[_0x29e1('0x15')][_0x29e1('0x5d')](function(){_0x3476dc(_0x29e1('0x5e'));});}catch(_0xb38053){_0x3476dc(_0xb38053[_0x29e1('0x5f')]);}}_0x24c08f[_0x29e1('0x15')]=null;_0x24c08f[_0x29e1('0x15')]=new _0x49676b();if(!_0x24c08f[_0x29e1('0x11')]){_0x24c08f[_0x29e1('0x11')]=_0x45b874;}if(!_0x24c08f[_0x29e1('0x12')]){_0x24c08f[_0x29e1('0x12')]=_0x1d6ce1;}if(_0x24c08f[_0x29e1('0x2')]==='tcp'){if(!_0x24c08f[_0x29e1('0x20')](_0x24c08f[_0x29e1('0xf')])){_0x24c08f[_0x29e1('0x60')](new Error(_0x29e1('0x61')),{'payload':_0x24c08f['unit_id']});_0x24c08f['statlyMachine'][_0x29e1('0x62')]();return;}switch(_0x24c08f['tcpType']){case _0x29e1('0x63'):_0x3476dc('C701\x20port\x20UDP\x20bridge');_0x24c08f['client'][_0x29e1('0x64')](_0x24c08f[_0x29e1('0x5')],{'port':_0x24c08f[_0x29e1('0x6')],'autoOpen':!![]})['then'](_0x24c08f[_0x29e1('0x65')])[_0x29e1('0x66')](_0x24c08f[_0x29e1('0x67')])['catch'](_0x24c08f[_0x29e1('0x68')]);break;case _0x29e1('0x69'):_0x3476dc(_0x29e1('0x6a'));_0x24c08f[_0x29e1('0x15')][_0x29e1('0x6b')](_0x24c08f[_0x29e1('0x5')],{'port':_0x24c08f['tcpPort'],'autoOpen':!![]})[_0x29e1('0x66')](_0x24c08f['setTCPConnectionOptions'])['catch'](_0x24c08f[_0x29e1('0x68')]);break;case _0x29e1('0x6c'):_0x3476dc(_0x29e1('0x6d'));_0x24c08f[_0x29e1('0x15')][_0x29e1('0x6e')](_0x24c08f[_0x29e1('0x5')],{'port':_0x24c08f[_0x29e1('0x6')],'autoOpen':!![]})[_0x29e1('0x66')](_0x24c08f[_0x29e1('0x65')])[_0x29e1('0x6f')](_0x24c08f['modbusTcpErrorHandling']);break;default:_0x3476dc(_0x29e1('0x70'));_0x24c08f['client']['connectTCP'](_0x24c08f[_0x29e1('0x5')],{'port':_0x24c08f['tcpPort'],'autoOpen':!![]})['then'](_0x24c08f[_0x29e1('0x65')])[_0x29e1('0x6f')](_0x24c08f[_0x29e1('0x68')]);}}else{if(!_0x24c08f[_0x29e1('0x20')](_0x24c08f[_0x29e1('0xf')])){_0x24c08f[_0x29e1('0x60')](new Error(_0x29e1('0x71')),{'payload':_0x24c08f[_0x29e1('0xf')]});_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x62')]();return;}if(!_0x24c08f[_0x29e1('0xe')]){_0x24c08f[_0x29e1('0xe')]=_0x4e1ec9;}if(!_0x24c08f['serialPort']){_0x24c08f['error'](new Error(_0x29e1('0x72')),{'payload':_0x24c08f[_0x29e1('0x8')]});_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x62')]();return;}switch(_0x24c08f[_0x29e1('0xd')]){case _0x29e1('0x73'):_0x3476dc(_0x29e1('0x74'));_0x24c08f[_0x29e1('0x15')]['connectAsciiSerial'](_0x24c08f[_0x29e1('0x8')],{'baudRate':parseInt(_0x24c08f['serialBaudrate']),'dataBits':parseInt(_0x24c08f[_0x29e1('0xa')]),'stopBits':parseInt(_0x24c08f[_0x29e1('0xb')]),'parity':_0x24c08f[_0x29e1('0xc')],'autoOpen':![]})[_0x29e1('0x66')](_0x24c08f[_0x29e1('0x75')])[_0x29e1('0x6f')](_0x24c08f['modbusSerialErrorHandling']);break;case _0x29e1('0x76'):_0x3476dc('RTU\x20port\x20serial');_0x24c08f['client']['connectRTU'](_0x24c08f[_0x29e1('0x8')],{'baudRate':parseInt(_0x24c08f[_0x29e1('0x9')]),'dataBits':parseInt(_0x24c08f[_0x29e1('0xa')]),'stopBits':parseInt(_0x24c08f[_0x29e1('0xb')]),'parity':_0x24c08f[_0x29e1('0xc')],'autoOpen':![]})[_0x29e1('0x66')](_0x24c08f[_0x29e1('0x75')])[_0x29e1('0x6f')](_0x24c08f[_0x29e1('0x77')]);break;default:_0x3476dc(_0x29e1('0x78'));_0x24c08f['client'][_0x29e1('0x79')](_0x24c08f['serialPort'],{'baudRate':parseInt(_0x24c08f[_0x29e1('0x9')]),'dataBits':parseInt(_0x24c08f[_0x29e1('0xa')]),'stopBits':parseInt(_0x24c08f[_0x29e1('0xb')]),'parity':_0x24c08f[_0x29e1('0xc')],'autoOpen':![]})[_0x29e1('0x66')](_0x24c08f['setSerialConnectionOptions'])[_0x29e1('0x6f')](_0x24c08f[_0x29e1('0x77')]);break;}}};_0x24c08f[_0x29e1('0x65')]=function(){_0x24c08f[_0x29e1('0x15')][_0x29e1('0x26')](_0x24c08f[_0x29e1('0xf')]);_0x24c08f[_0x29e1('0x15')]['setTimeout'](_0x24c08f[_0x29e1('0x11')]);_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x7a')]();};_0x24c08f[_0x29e1('0x67')]=function(){_0x3a5558[_0x29e1('0x7b')](_0x29e1('0x7c')+_0x24c08f[_0x29e1('0x5')]);};_0x24c08f[_0x29e1('0x75')]=function(){_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x7d')]();setTimeout(_0x24c08f[_0x29e1('0x7e')],parseInt(_0x24c08f[_0x29e1('0xe')]));};_0x24c08f[_0x29e1('0x7f')]=function(_0x5df940){if(_0x5df940[_0x29e1('0x5f')]){_0x3a5558[_0x29e1('0x7b')]('modbusErrorHandling:'+_0x5df940[_0x29e1('0x5f')]);}else{_0x3a5558[_0x29e1('0x7b')](_0x29e1('0x80')+JSON['stringify'](_0x5df940));}if(_0x5df940['errno']&&_0x3a5558[_0x29e1('0x81')][_0x29e1('0x82')](_0x5df940[_0x29e1('0x83')])){_0x24c08f[_0x29e1('0x1b')]['failure']();}};_0x24c08f[_0x29e1('0x68')]=function(_0x34f5b3){if(_0x34f5b3['message']){_0x3a5558[_0x29e1('0x7b')](_0x29e1('0x84')+_0x34f5b3[_0x29e1('0x5f')]);}else{_0x3a5558[_0x29e1('0x7b')](_0x29e1('0x84')+JSON[_0x29e1('0x2d')](_0x34f5b3));}if(_0x34f5b3[_0x29e1('0x83')]&&_0x3a5558['networkErrors'][_0x29e1('0x82')](_0x34f5b3[_0x29e1('0x83')])){_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x62')]();}};_0x24c08f[_0x29e1('0x77')]=function(_0x3c0a8d){if(_0x3c0a8d[_0x29e1('0x5f')]){_0x3a5558[_0x29e1('0x7b')](_0x29e1('0x85')+_0x3c0a8d[_0x29e1('0x5f')]);}else{_0x3a5558[_0x29e1('0x7b')](_0x29e1('0x85')+JSON['stringify'](_0x3c0a8d));}_0x24c08f[_0x29e1('0x1b')]['failure']();};_0x24c08f[_0x29e1('0x7e')]=function(){if(_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x34')]()===_0x29e1('0x86')){_0x3476dc(_0x29e1('0x87')+_0x24c08f[_0x29e1('0xf')]);_0x3a5558[_0x29e1('0x7b')](_0x29e1('0x88'));_0x24c08f[_0x29e1('0x15')]['setID'](_0x24c08f[_0x29e1('0xf')]);_0x24c08f[_0x29e1('0x15')]['setTimeout'](parseInt(_0x24c08f[_0x29e1('0x11')]));_0x24c08f['client'][_0x29e1('0x89')]['on'](_0x29e1('0x5d'),_0x24c08f['onModbusClose']);_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x7a')]();}else{_0x3476dc(_0x29e1('0x8a')+_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x34')]());_0x3a5558[_0x29e1('0x7b')](_0x29e1('0x8b'),_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x34')]());_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x62')]();}};_0x24c08f[_0x29e1('0x8c')]=function(){_0x559b21(_0x29e1('0x8d'));_0x3a5558[_0x29e1('0x7b')]('modbus\x20closed\x20port');_0x24c08f[_0x29e1('0x1b')]['close']();};_0x24c08f['getQueueNumber']=function(_0x2f3b2e){let _0xce44ac=parseInt(_0x2f3b2e[_0x29e1('0x23')][_0x29e1('0x24')]);if(Number[_0x29e1('0x25')](_0xce44ac)){return _0x24c08f['bufferCommandList']['get'](_0xce44ac)['length'];}else{return _0x24c08f['bufferCommandList'][_0x29e1('0x2b')](_0x24c08f[_0x29e1('0xf')])['length'];}};_0x24c08f[_0x29e1('0x8e')]=function(_0x471941,_0x208007,_0x50f497,_0x2a278d){let _0x2e88f6=parseInt(_0x208007[_0x29e1('0x23')][_0x29e1('0x24')]);if(Number['isInteger'](_0x2e88f6)){_0x208007[_0x29e1('0x8f')]=_0x2e88f6;_0x1292df(JSON['stringify']({'info':_0x29e1('0x90'),'message':_0x208007['payload'],'unit':_0x2e88f6}));if(_0x24c08f[_0x29e1('0x18')][_0x29e1('0x36')](_0x2e88f6)===-0x1){_0x24c08f[_0x29e1('0x18')]['push'](_0x2e88f6);}_0x24c08f[_0x29e1('0x16')][_0x29e1('0x2b')](_0x2e88f6)[_0x29e1('0x91')]({'callModbus':_0x471941,'msg':_0x208007,'cb':_0x50f497,'cberr':_0x2a278d});}else{_0x208007[_0x29e1('0x8f')]=_0x24c08f[_0x29e1('0xf')];_0x1292df(JSON['stringify']({'info':_0x29e1('0x92'),'message':_0x208007[_0x29e1('0x23')],'unit':_0x24c08f['unit_id']}));if(_0x24c08f[_0x29e1('0x18')][_0x29e1('0x36')](_0x24c08f['unit_id'])===-0x1){_0x24c08f[_0x29e1('0x18')]['push'](_0x24c08f['unit_id']);}_0x24c08f[_0x29e1('0x16')][_0x29e1('0x2b')](_0x24c08f[_0x29e1('0xf')])[_0x29e1('0x91')]({'callModbus':_0x471941,'msg':_0x208007,'cb':_0x50f497,'cberr':_0x2a278d});}};_0x24c08f['on'](_0x29e1('0x93'),function(_0x1645ae,_0x24f33d,_0x3bfffd){let _0x736138=_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x34')]();if(_0x24c08f[_0x29e1('0x35')]['indexOf'](_0x736138)===-0x1){_0x3bfffd(new Error('FSM\x20Not\x20Ready\x20To\x20Read\x20At\x20State\x20'+_0x736138),_0x1645ae);return;}if(_0x24c08f[_0x29e1('0x3')]){_0x1645ae[_0x29e1('0x94')]=_0x24c08f['getQueueNumber'](_0x1645ae);_0x24c08f[_0x29e1('0x8e')](_0x24c08f[_0x29e1('0x93')],_0x1645ae,_0x24f33d,_0x3bfffd);_0x24c08f[_0x29e1('0x1b')]['queue']();_0x1292df(JSON[_0x29e1('0x2d')]({'info':_0x29e1('0x95'),'message':_0x1645ae[_0x29e1('0x23')],'state':_0x736138,'queueLength':_0x24c08f['bufferCommandList'][_0x29e1('0x2b')](_0x1645ae['queueUnit'])['length']}));}else{_0x24c08f['readModbus'](_0x1645ae,_0x24f33d,_0x3bfffd);}});_0x24c08f[_0x29e1('0x93')]=function(_0x3e1c60,_0x5d208f,_0x402746){if(!_0x24c08f[_0x29e1('0x15')]){return;}if(!_0x24c08f['bufferCommands']){_0x24c08f['statlyMachine']['read']();}_0x24c08f[_0x29e1('0x22')](_0x3e1c60);_0x24c08f[_0x29e1('0x15')]['setTimeout'](_0x24c08f[_0x29e1('0x11')]);_0x1292df(JSON[_0x29e1('0x2d')]({'info':_0x29e1('0x96'),'message':_0x3e1c60['payload'],'unitid':_0x3e1c60[_0x29e1('0x27')],'timeout':_0x24c08f[_0x29e1('0x15')][_0x29e1('0x97')](),'state':_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x34')]()}));try{switch(parseInt(_0x3e1c60[_0x29e1('0x23')]['fc'])){case 0x1:_0x24c08f['client'][_0x29e1('0x98')](parseInt(_0x3e1c60[_0x29e1('0x23')][_0x29e1('0x99')]),parseInt(_0x3e1c60[_0x29e1('0x23')][_0x29e1('0x9a')]))[_0x29e1('0x66')](function(_0x19161f){_0x24c08f[_0x29e1('0x9b')](_0x3e1c60);_0x5d208f(_0x19161f,_0x3e1c60);})[_0x29e1('0x6f')](function(_0x1265d8){_0x24c08f['activateSending'](_0x3e1c60);_0x402746(_0x1265d8,_0x3e1c60);_0x24c08f[_0x29e1('0x7f')](_0x1265d8);});break;case 0x2:_0x24c08f[_0x29e1('0x15')][_0x29e1('0x9c')](parseInt(_0x3e1c60[_0x29e1('0x23')][_0x29e1('0x99')]),parseInt(_0x3e1c60[_0x29e1('0x23')][_0x29e1('0x9a')]))['then'](function(_0x493b1e){_0x24c08f[_0x29e1('0x9b')](_0x3e1c60);_0x5d208f(_0x493b1e,_0x3e1c60);})[_0x29e1('0x6f')](function(_0x477f20){_0x24c08f['activateSending'](_0x3e1c60);_0x402746(_0x477f20,_0x3e1c60);_0x24c08f[_0x29e1('0x7f')](_0x477f20);});break;case 0x3:_0x24c08f[_0x29e1('0x15')][_0x29e1('0x9d')](parseInt(_0x3e1c60[_0x29e1('0x23')]['address']),parseInt(_0x3e1c60['payload'][_0x29e1('0x9a')]))['then'](function(_0x4e83a3){_0x24c08f[_0x29e1('0x9b')](_0x3e1c60);_0x5d208f(_0x4e83a3,_0x3e1c60);})[_0x29e1('0x6f')](function(_0x2e86cf){_0x24c08f[_0x29e1('0x9b')](_0x3e1c60);_0x402746(_0x2e86cf,_0x3e1c60);_0x24c08f[_0x29e1('0x7f')](_0x2e86cf);});break;case 0x4:_0x24c08f[_0x29e1('0x15')]['readInputRegisters'](parseInt(_0x3e1c60[_0x29e1('0x23')]['address']),parseInt(_0x3e1c60[_0x29e1('0x23')]['quantity']))['then'](function(_0x356614){_0x24c08f[_0x29e1('0x9b')](_0x3e1c60);_0x5d208f(_0x356614,_0x3e1c60);})['catch'](function(_0x53cc10){_0x24c08f['activateSending'](_0x3e1c60);_0x402746(_0x53cc10,_0x3e1c60);_0x24c08f['modbusErrorHandling'](_0x53cc10);});break;default:_0x24c08f[_0x29e1('0x9b')](_0x3e1c60);_0x402746(new Error(_0x29e1('0x9e')),_0x3e1c60);_0x3a5558[_0x29e1('0x3f')]('Function\x20Code\x20Unknown\x20%s',_0x3e1c60['payload']['fc']);break;}}catch(_0x18425d){_0x3a5558[_0x29e1('0x3f')](_0x18425d[_0x29e1('0x5f')]);_0x24c08f[_0x29e1('0x7f')](_0x18425d);}};_0x24c08f['on']('writeModbus',function(_0x1702a2,_0x14b53a,_0x46d08f){let _0x224131=_0x24c08f['statlyMachine'][_0x29e1('0x34')]();if(_0x24c08f['messageAllowedStates']['indexOf'](_0x224131)===-0x1){_0x46d08f(new Error('FSM\x20Not\x20Ready\x20To\x20Write\x20At\x20State\x20'+_0x224131),_0x1702a2);return;}if(_0x24c08f['bufferCommands']){_0x1702a2['queueNumber']=_0x24c08f['getQueueNumber'](_0x1702a2);_0x24c08f[_0x29e1('0x8e')](_0x24c08f[_0x29e1('0x9f')],_0x1702a2,_0x14b53a,_0x46d08f);_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x51')]();_0x1292df(JSON[_0x29e1('0x2d')]({'info':_0x29e1('0xa0'),'message':_0x1702a2[_0x29e1('0x23')],'state':_0x224131,'queueLength':_0x24c08f[_0x29e1('0x16')][_0x29e1('0x2b')](_0x1702a2[_0x29e1('0x8f')])[_0x29e1('0x2c')]}));}else{_0x24c08f['writeModbus'](_0x1702a2,_0x14b53a,_0x46d08f);}});_0x24c08f['writeModbus']=function(_0x43be9f,_0x53e574,_0x494607){if(!_0x24c08f[_0x29e1('0x15')]){return;}if(!_0x24c08f[_0x29e1('0x3')]){_0x24c08f[_0x29e1('0x1b')][_0x29e1('0xa1')]();}_0x24c08f[_0x29e1('0x22')](_0x43be9f);_0x24c08f[_0x29e1('0x15')][_0x29e1('0xa2')](_0x24c08f['clientTimeout']);_0x1292df(JSON[_0x29e1('0x2d')]({'info':_0x29e1('0xa3'),'message':_0x43be9f[_0x29e1('0x23')],'unitid':_0x43be9f[_0x29e1('0x27')],'timeout':_0x24c08f['client'][_0x29e1('0x97')](),'state':_0x24c08f['statlyMachine'][_0x29e1('0x34')]()}));try{switch(parseInt(_0x43be9f[_0x29e1('0x23')]['fc'])){case 0xf:if(parseInt(_0x43be9f[_0x29e1('0x23')][_0x29e1('0xa4')][_0x29e1('0x2c')])!==parseInt(_0x43be9f['payload'][_0x29e1('0x9a')])){_0x24c08f['activateSending'](_0x43be9f);_0x494607(new Error(_0x29e1('0xa5')+_0x43be9f['payload'][_0x29e1('0xa4')][_0x29e1('0x2c')]+_0x29e1('0xa6')+_0x43be9f[_0x29e1('0x23')][_0x29e1('0x99')]+_0x29e1('0xa7')+_0x43be9f[_0x29e1('0x23')][_0x29e1('0x9a')]),_0x43be9f);}else{_0x24c08f[_0x29e1('0x15')]['writeCoils'](parseInt(_0x43be9f[_0x29e1('0x23')][_0x29e1('0x99')]),_0x43be9f[_0x29e1('0x23')]['value'])['then'](function(_0x4f0cdc){_0x24c08f[_0x29e1('0x9b')](_0x43be9f);_0x53e574(_0x4f0cdc,_0x43be9f);})[_0x29e1('0x6f')](function(_0x5aa959){_0x24c08f[_0x29e1('0x9b')](_0x43be9f);_0x494607(_0x5aa959,_0x43be9f);_0x24c08f[_0x29e1('0x7f')](_0x5aa959);});}break;case 0x5:if(_0x43be9f[_0x29e1('0x23')]['value']){_0x43be9f[_0x29e1('0x23')][_0x29e1('0xa4')]=!![];}else{_0x43be9f[_0x29e1('0x23')][_0x29e1('0xa4')]=![];}_0x24c08f[_0x29e1('0x15')]['writeCoil'](parseInt(_0x43be9f[_0x29e1('0x23')]['address']),_0x43be9f[_0x29e1('0x23')][_0x29e1('0xa4')])[_0x29e1('0x66')](function(_0x324832){_0x24c08f[_0x29e1('0x9b')](_0x43be9f);_0x53e574(_0x324832,_0x43be9f);})['catch'](function(_0x473209){_0x24c08f[_0x29e1('0x9b')](_0x43be9f);_0x494607(_0x473209,_0x43be9f);_0x24c08f[_0x29e1('0x7f')](_0x473209);});break;case 0x10:if(parseInt(_0x43be9f[_0x29e1('0x23')][_0x29e1('0xa4')][_0x29e1('0x2c')])!==parseInt(_0x43be9f[_0x29e1('0x23')][_0x29e1('0x9a')])){_0x24c08f[_0x29e1('0x9b')](_0x43be9f);_0x494607(new Error(_0x29e1('0xa8')+_0x43be9f[_0x29e1('0x23')][_0x29e1('0xa4')][_0x29e1('0x2c')]+'\x20Addr:\x20'+_0x43be9f[_0x29e1('0x23')][_0x29e1('0x99')]+_0x29e1('0xa7')+_0x43be9f[_0x29e1('0x23')][_0x29e1('0x9a')]),_0x43be9f);}else{_0x24c08f[_0x29e1('0x15')][_0x29e1('0xa9')](parseInt(_0x43be9f['payload']['address']),_0x43be9f['payload']['value'])[_0x29e1('0x66')](function(_0x505000){_0x24c08f[_0x29e1('0x9b')](_0x43be9f);_0x53e574(_0x505000,_0x43be9f);})[_0x29e1('0x6f')](function(_0x3471be){_0x24c08f[_0x29e1('0x9b')](_0x43be9f);_0x494607(_0x3471be,_0x43be9f);_0x24c08f[_0x29e1('0x7f')](_0x3471be);});}break;case 0x6:_0x24c08f[_0x29e1('0x15')]['writeRegister'](parseInt(_0x43be9f[_0x29e1('0x23')][_0x29e1('0x99')]),parseInt(_0x43be9f['payload'][_0x29e1('0xa4')]))[_0x29e1('0x66')](function(_0x23be9a){_0x24c08f[_0x29e1('0x9b')](_0x43be9f);_0x53e574(_0x23be9a,_0x43be9f);})[_0x29e1('0x6f')](function(_0x2b68bd){_0x24c08f[_0x29e1('0x9b')](_0x43be9f);_0x494607(_0x2b68bd,_0x43be9f);_0x24c08f['modbusErrorHandling'](_0x2b68bd);});break;default:_0x24c08f[_0x29e1('0x9b')](_0x43be9f);_0x494607(new Error(_0x29e1('0x9e')),_0x43be9f);_0x3a5558[_0x29e1('0x3f')](_0x29e1('0xaa'),_0x43be9f['payload']['fc']);break;}}catch(_0x3d9361){_0x3a5558[_0x29e1('0x3f')](_0x3d9361[_0x29e1('0x5f')]);_0x24c08f[_0x29e1('0x7f')](_0x3d9361);}};_0x24c08f['activateSending']=function(_0x1cca7d){if(_0x24c08f['bufferCommands']){_0x24c08f[_0x29e1('0x17')][_0x29e1('0x1f')](_0x1cca7d['queueUnit'],!![]);_0x1292df(JSON['stringify']({'info':_0x29e1('0xab'),'message':_0x1cca7d[_0x29e1('0x23')],'queueLength':_0x24c08f['bufferCommandList'][_0x29e1('0x2c')]}));}_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x4e')]();};_0x3476dc(_0x29e1('0xac'));_0x24c08f[_0x29e1('0xad')](_0x5478f8);_0x24c08f['on'](_0x29e1('0xae'),function(){_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x62')]()[_0x29e1('0x5d')]();});_0x24c08f['on'](_0x29e1('0xaf'),function(_0x2f6e81){if(_0x4a7c28[_0x29e1('0xb0')](_0x2f6e81)){throw new Error(_0x29e1('0xb1'));}_0x3a5558[_0x29e1('0x3f')](_0x29e1('0xb2')+JSON['stringify'](_0x2f6e81[_0x29e1('0x23')]));switch(_0x2f6e81[_0x29e1('0x23')][_0x29e1('0xb3')]){case _0x29e1('0xb4'):_0x24c08f[_0x29e1('0x5')]=_0x2f6e81[_0x29e1('0x23')][_0x29e1('0x5')]||_0x24c08f[_0x29e1('0x5')];_0x24c08f[_0x29e1('0x6')]=_0x2f6e81[_0x29e1('0x23')][_0x29e1('0x6')]||_0x24c08f[_0x29e1('0x6')];_0x24c08f['tcpType']=_0x2f6e81[_0x29e1('0x23')]['tcpType']||_0x24c08f['tcpType'];_0x3a5558[_0x29e1('0x3f')](_0x29e1('0xb5')+_0x24c08f[_0x29e1('0x5')]+'\x20'+_0x24c08f[_0x29e1('0x6')]+'\x20'+_0x24c08f[_0x29e1('0x7')]);break;case'SERIAL':if(_0x2f6e81[_0x29e1('0x23')][_0x29e1('0x8')]){_0x24c08f[_0x29e1('0x8')]=_0x2f6e81[_0x29e1('0x23')][_0x29e1('0x8')]||_0x24c08f[_0x29e1('0x8')];}if(_0x2f6e81[_0x29e1('0x23')][_0x29e1('0x9')]){_0x24c08f[_0x29e1('0x9')]=parseInt(_0x2f6e81[_0x29e1('0x23')][_0x29e1('0x9')])||_0x24c08f[_0x29e1('0x9')];}_0x24c08f['serialDatabits']=_0x2f6e81['payload']['serialDatabits']||_0x24c08f['serialDatabits'];_0x24c08f[_0x29e1('0xb')]=_0x2f6e81[_0x29e1('0x23')][_0x29e1('0xb')]||_0x24c08f[_0x29e1('0xb')];_0x24c08f[_0x29e1('0xc')]=_0x2f6e81['payload'][_0x29e1('0xc')]||_0x24c08f[_0x29e1('0xc')];_0x24c08f[_0x29e1('0xd')]=_0x2f6e81['payload'][_0x29e1('0xd')]||_0x24c08f[_0x29e1('0xd')];if(_0x2f6e81[_0x29e1('0x23')]['serialConnectionDelay']){_0x24c08f[_0x29e1('0xe')]=parseInt(_0x2f6e81[_0x29e1('0x23')][_0x29e1('0xe')])||_0x24c08f[_0x29e1('0xe')];}_0x3a5558[_0x29e1('0x3f')](_0x29e1('0xb5')+_0x24c08f[_0x29e1('0x8')]+'\x20'+_0x24c08f[_0x29e1('0x9')]+'\x20'+_0x24c08f[_0x29e1('0xd')]);break;default:_0x3a5558[_0x29e1('0x3f')](_0x29e1('0xb6')+_0x2f6e81['payload'][_0x29e1('0xb3')]);}if(_0x2f6e81[_0x29e1('0x23')]['unitId']){_0x24c08f[_0x29e1('0xf')]=parseInt(_0x2f6e81[_0x29e1('0x23')][_0x29e1('0xb7')])||_0x24c08f[_0x29e1('0xf')];}if(_0x2f6e81[_0x29e1('0x23')]['commandDelay']){_0x24c08f['commandDelay']=parseInt(_0x2f6e81[_0x29e1('0x23')][_0x29e1('0x10')])||_0x24c08f[_0x29e1('0x10')];}if(_0x2f6e81[_0x29e1('0x23')][_0x29e1('0x11')]){_0x24c08f['clientTimeout']=parseInt(_0x2f6e81['payload'][_0x29e1('0x11')])||_0x24c08f[_0x29e1('0x11')];}if(_0x2f6e81[_0x29e1('0x23')][_0x29e1('0x12')]){_0x24c08f[_0x29e1('0x12')]=parseInt(_0x2f6e81['payload']['reconnectTimeout'])||_0x24c08f['reconnectTimeout'];}_0x3a5558[_0x29e1('0x3f')]('Dynamic\x20Reconnect\x20Starts');_0x24c08f[_0x29e1('0x1b')]['failure']()[_0x29e1('0x5d')]();});_0x24c08f['on'](_0x29e1('0x5d'),function(_0x3f168b){_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x62')]()[_0x29e1('0xb8')]();_0x3476dc(_0x29e1('0xb9'));if(_0x24c08f[_0x29e1('0x15')]){_0x24c08f[_0x29e1('0x15')]['close'](function(){_0x3476dc(_0x29e1('0x5e'));_0x3f168b();})[_0x29e1('0x6f')](function(_0x315ff7){_0x3476dc(_0x315ff7['message']);_0x3f168b();});}else{_0x3f168b();}});_0x24c08f['registeredNodeList']={};_0x24c08f[_0x29e1('0xba')]=function(_0x5b799b){_0x24c08f['registeredNodeList'][_0x5b799b['id']]=_0x5b799b;if(Object[_0x29e1('0xbb')](_0x24c08f[_0x29e1('0xbc')])[_0x29e1('0x2c')]===0x1){_0x24c08f['closingModbus']=![];_0x24c08f['statlyMachine'][_0x29e1('0x5c')]();}};_0x24c08f[_0x29e1('0xbd')]=function(_0x4dfd00,_0x195409){delete _0x24c08f['registeredNodeList'][_0x4dfd00['id']];if(_0x24c08f[_0x29e1('0x14')]){_0x195409();}if(Object['keys'](_0x24c08f[_0x29e1('0xbc')])[_0x29e1('0x2c')]===0x0){_0x24c08f[_0x29e1('0x14')]=!![];if(_0x24c08f[_0x29e1('0x15')]){_0x24c08f[_0x29e1('0x15')][_0x29e1('0x5d')](function(){_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x5d')]()[_0x29e1('0x58')]()[_0x29e1('0xb8')]();_0x195409();})['catch'](function(_0x4bf031){_0x24c08f[_0x29e1('0x1b')][_0x29e1('0x62')]()[_0x29e1('0xb8')]();_0x3476dc(_0x4bf031['message']);_0x195409();});}else{_0x195409();}}else{_0x195409();}};}_0x181db3[_0x29e1('0x1')]['registerType'](_0x29e1('0xbe'),_0x38e55d);_0x181db3[_0x29e1('0xbf')][_0x29e1('0x2b')]('/serialports',_0x181db3[_0x29e1('0xc0')][_0x29e1('0xc1')](_0x29e1('0xc2')),function(_0x2120d3,_0x109aa6){let _0x3a6ac1=require('serialport');_0x3a6ac1[_0x29e1('0xc3')](function(_0x2e3b64,_0x2574e4){if(_0x2e3b64)console['log'](_0x2e3b64);_0x109aa6[_0x29e1('0xc4')](_0x2574e4);});});};