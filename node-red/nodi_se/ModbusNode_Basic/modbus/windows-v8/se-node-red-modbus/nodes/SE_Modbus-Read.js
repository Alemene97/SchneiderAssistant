var _0x13ca=['Modbus\x20exception\x201','Read\x20Error','Illegal\x20Function\x20Code','Modbus\x20exception\x202','Modbus\x20exception\x203','Illegal\x20Data\x20Value','Modbus\x20exception\x204','error','Slave\x20Device\x20Failure','FSM\x20Not\x20Ready\x20To\x20Read','Timed\x20out','Broken','Port\x20Not\x20Open','FSM\x20Reset\x20On\x20State\x20INIT','FSM\x20Reset\x20On\x20State\x20QUEUEING','Device\x20is\x20not\x20connected','reconnect','COM\x20Port\x20in\x20use','COM\x20Port\x20is\x20already\x20opened','message','setInt16','reverse','registerType','SE_Modbus-Read','../src/modbus-basics','nodes','createNode','name','unitid','dataType','adr','quantity','alltags','rate','rateUnit','logging','loggingLevel','size','../src/logging','getNode','server','Modbus','sizeUnit','logEvents','NODE\x20Name::','NODE\x20ID::','::Logging\x20Disabled','configError','clienttype','toUpperCase','tcpHost','serial','onModbusConnect','connected','modbusPollingRead','calc_rateByUnit','::connected','send','onModbusBroken','onModbusError','onModbusClose','disconnected','onModbusInit','connecting','onModbusActive','mbinit','mbactive','mbconnected','mbbroken','mberror','mbclosed','client','functionCodeModbus','emit','onModbusReadDone','onModbusReadError','Input','HoldingRegister','InputRegister','logInfo','::Read\x20Data\x20Successfully','success','close','length','type','float32','tag','data','address','boolean','polling','set_node_status_properties','search','active','fill','shape','status','get_timeUnit_name','\x20)\x20','logError','msg'];(function(_0x12a450,_0x3e6069){var _0x12a415=function(_0x119602){while(--_0x119602){_0x12a450['push'](_0x12a450['shift']());}};_0x12a415(++_0x3e6069);}(_0x13ca,0x7d));var _0x1020=function(_0x31a751,_0x57a381){_0x31a751=_0x31a751-0x0;var _0x5cff26=_0x13ca[_0x31a751];return _0x5cff26;};module['exports']=function(_0x591a0b){'use strict';let _0x2964b9=require(_0x1020('0x0'));let _0x48206b={};function _0x1758fa(_0x2a7919){_0x591a0b[_0x1020('0x1')][_0x1020('0x2')](this,_0x2a7919);this[_0x1020('0x3')]=_0x2a7919[_0x1020('0x3')];this[_0x1020('0x4')]=_0x2a7919['unitid'];this['dataType']=_0x2a7919[_0x1020('0x5')];this[_0x1020('0x6')]=_0x2a7919[_0x1020('0x6')];this[_0x1020('0x7')]=_0x2a7919['quantity'];this[_0x1020('0x8')]=_0x2a7919[_0x1020('0x8')];this['rate']=_0x2a7919[_0x1020('0x9')];this[_0x1020('0xa')]=_0x2a7919['rateUnit'];this[_0x1020('0xb')]=_0x2a7919[_0x1020('0xb')];this['loggingLevel']=_0x2a7919[_0x1020('0xc')];this[_0x1020('0xd')]=0x19;this['sizeUnit']='mb';var _0x3ae0f1=null;let _0x5a0e99=this;let _0x567139=require(_0x1020('0xe'));let _0x2fa15c=_0x591a0b[_0x1020('0x1')][_0x1020('0xf')](_0x2a7919[_0x1020('0x10')]);_0x567139['configure'](_0x1020('0x11'),__dirname,_0x5a0e99[_0x1020('0xd')],_0x5a0e99[_0x1020('0x12')],_0x5a0e99[_0x1020('0xc')]);if(this[_0x1020('0xb')]=='1'){this['logging']=!![];}else{this['logging']=![];}if(this['logging']){_0x567139[_0x1020('0x13')](_0x1020('0x14')+_0x5a0e99[_0x1020('0x3')]+':'+_0x1020('0x15')+_0x5a0e99['id']+'::Logging\x20Enabled',_0x5a0e99);}else{_0x567139[_0x1020('0x13')](_0x1020('0x14')+_0x5a0e99[_0x1020('0x3')]+':'+_0x1020('0x15')+_0x5a0e99['id']+_0x1020('0x16'),_0x5a0e99);}if(_0x2fa15c){_0x2fa15c['registerForModbus'](_0x5a0e99);}else{_0x91121('configError');return;}let _0xd446a3=null;let _0x3cc765=![];let _0x3904b7='';if(_0x2a7919[_0x1020('0x6')]==''||_0x5a0e99[_0x1020('0x7')]==''){_0x91121(_0x1020('0x17'));return;}if(_0x2fa15c){if(_0x2fa15c[_0x1020('0x18')]=='tcp'){_0x3904b7=_0x2fa15c['name']+''+_0x2fa15c[_0x1020('0x18')][_0x1020('0x19')]()+'@'+_0x2fa15c[_0x1020('0x1a')];}else{_0x3904b7=_0x2fa15c[_0x1020('0x3')]+''+_0x2fa15c[_0x1020('0x18')][_0x1020('0x19')]()+'@'+_0x5a0e99[_0x1020('0x4')];}}else{_0x91121('configError');return;}if(_0x2fa15c['clienttype']==_0x1020('0x1b')){if(_0x5a0e99['unitid']===''){_0x5a0e99[_0x1020('0x4')]=![];_0x91121(_0x1020('0x17'));}}else{if(_0x5a0e99['unitid']===''){_0x5a0e99['unitid']=!![];}}_0x5a0e99[_0x1020('0x1c')]=function(){if(_0x5a0e99[_0x1020('0x4')]!=![]){if(!_0xd446a3){_0x91121(_0x1020('0x1d'));_0xd446a3=setInterval(_0x5a0e99[_0x1020('0x1e')],_0x2964b9[_0x1020('0x1f')](_0x5a0e99[_0x1020('0x9')],_0x5a0e99['rateUnit']));_0x567139['logInfo'](_0x1020('0x14')+_0x5a0e99['name']+':'+_0x1020('0x15')+_0x5a0e99['id']+_0x1020('0x20'),_0x5a0e99[_0x1020('0xb')],_0x5a0e99[_0x1020('0xc')],_0x5a0e99);}}else{_0x5a0e99[_0x1020('0x21')](_0x11cea5({'msg':'Slave\x20ID\x20is\x20not\x20configured'}));}};_0x5a0e99[_0x1020('0x22')]=function(){};_0x5a0e99[_0x1020('0x23')]=function(_0x4c8d76){if(_0xd446a3){clearInterval(_0xd446a3);}_0xd446a3=null;_0x237125({'message':_0x4c8d76});};_0x5a0e99[_0x1020('0x24')]=function(){_0x91121(_0x1020('0x25'));if(_0xd446a3){clearInterval(_0xd446a3);}_0xd446a3=null;};_0x5a0e99[_0x1020('0x26')]=function(){_0x91121(_0x1020('0x27'));};_0x5a0e99[_0x1020('0x28')]=function(){};_0x2fa15c['on'](_0x1020('0x29'),_0x5a0e99[_0x1020('0x26')]);_0x2fa15c['on'](_0x1020('0x2a'),_0x5a0e99[_0x1020('0x28')]);_0x2fa15c['on'](_0x1020('0x2b'),_0x5a0e99['onModbusConnect']);_0x2fa15c['on'](_0x1020('0x2c'),_0x5a0e99['onModbusBroken']);_0x2fa15c['on'](_0x1020('0x2d'),_0x5a0e99['onModbusError']);_0x2fa15c['on'](_0x1020('0x2e'),_0x5a0e99[_0x1020('0x24')]);_0x5a0e99[_0x1020('0x1e')]=function(){if(!_0x2fa15c[_0x1020('0x2f')]){_0x91121('active');return;}let _0x1c701f={'topic':'polling','from':_0x5a0e99[_0x1020('0x3')],'payload':{'unitid':_0x5a0e99[_0x1020('0x4')],'fc':_0x5a0e99[_0x1020('0x30')](_0x5a0e99['dataType']),'address':_0x5a0e99[_0x1020('0x6')],'quantity':_0x5a0e99['quantity']}};_0x2fa15c[_0x1020('0x31')]('readModbus',_0x1c701f,_0x5a0e99[_0x1020('0x32')],_0x5a0e99[_0x1020('0x33')]);};_0x5a0e99[_0x1020('0x30')]=function(_0xae910){switch(_0xae910){case'Coil':return 0x1;case _0x1020('0x34'):return 0x2;case _0x1020('0x35'):return 0x3;case _0x1020('0x36'):return 0x4;default:return _0xae910;}};_0x5a0e99[_0x1020('0x32')]=function(_0xc6784c,_0x2794fa){_0x567139[_0x1020('0x37')](_0x1020('0x14')+_0x5a0e99[_0x1020('0x3')]+':'+_0x1020('0x15')+_0x5a0e99['id']+_0x1020('0x38'),_0x5a0e99[_0x1020('0xb')],_0x5a0e99[_0x1020('0xc')],_0x5a0e99);_0x5a0e99['send'](_0x4d3e39(_0xc6784c['data'],_0xc6784c,_0x5a0e99[_0x1020('0x7')],_0x5a0e99[_0x1020('0x8')]));_0x91121(_0x1020('0x39'));clearTimeout(_0x3ae0f1);_0x3ae0f1=setTimeout(_0x2a624f,0xbb8);};_0x5a0e99[_0x1020('0x33')]=function(_0x385daa,_0x3a06e6){_0x237125(_0x385daa);};_0x5a0e99['on'](_0x1020('0x3a'),function(){if(_0xd446a3){clearInterval(_0xd446a3);}_0xd446a3=null;_0x91121(_0x1020('0x25'));});function _0x4d3e39(_0x2aa59b,_0x1482c4,_0xefe136,_0x5350f9){let _0x2a5aac=JSON['parse'](_0x5350f9);_0x48206b={'name':_0x5a0e99[_0x1020('0x3')],'id':_0x3904b7,'timestamp':new Date(),'data':{}};let _0x5701a3=_0x2a5aac[_0x1020('0x3b')];for(let _0x13d4fd=0x0;_0x13d4fd<_0x5701a3;_0x13d4fd++){let _0x289b73=_0x5201e8(_0x2aa59b[_0x13d4fd],0x10);if(_0x2a5aac[_0x13d4fd][_0x1020('0x3c')]==_0x1020('0x3d')){let _0x291802=_0x44e918(_0x2aa59b[_0x13d4fd+0x1],_0x2aa59b[_0x13d4fd]);if(_0x2a5aac[_0x13d4fd][_0x1020('0x3e')]!=''){_0x48206b['data'][_0x2a5aac[_0x13d4fd]['tag']]={'value':_0x291802,'type':_0x2a5aac[_0x13d4fd][_0x1020('0x3c')]};}else{_0x48206b[_0x1020('0x3f')][_0x2a5aac[_0x13d4fd][_0x1020('0x40')]]={'value':_0x291802};}_0x13d4fd++;}else if(_0x2a5aac[_0x13d4fd][_0x1020('0x3c')]==_0x1020('0x41')){let _0x1d7304=!![];if(_0x289b73===0x1){_0x1d7304=!![];}else{_0x1d7304=![];}if(_0x2a5aac[_0x13d4fd][_0x1020('0x3e')]!=''){_0x48206b['data'][_0x2a5aac[_0x13d4fd][_0x1020('0x3e')]]={'value':_0x1d7304,'type':_0x2a5aac[_0x13d4fd]['type']};}else{_0x48206b['data'][_0x2a5aac[_0x13d4fd]['address']]={'value':_0x1d7304};}}else{if(_0x2a5aac[_0x13d4fd][_0x1020('0x3e')]!=''){_0x48206b[_0x1020('0x3f')][_0x2a5aac[_0x13d4fd][_0x1020('0x3e')]]={'value':_0x289b73,'type':_0x2a5aac[_0x13d4fd][_0x1020('0x3c')]};}else{_0x48206b[_0x1020('0x3f')][_0x2a5aac[_0x13d4fd]['address']]={'value':_0x289b73};}}}return[{'payload':_0x48206b}];}function _0x2a624f(){_0x91121('connected');clearTimeout(_0x3ae0f1);}function _0x91121(_0x71db9d){if(_0x71db9d===_0x1020('0x42')&&_0x3cc765){return;}let _0x5efd83=_0x2964b9[_0x1020('0x43')](_0x71db9d,_0x5a0e99['showStatusActivities']);if(_0x71db9d[_0x1020('0x44')](_0x1020('0x45'))!==-0x1||_0x71db9d==='polling'){_0x3cc765=![];_0x5a0e99['status']({'fill':_0x5efd83[_0x1020('0x46')],'shape':_0x5efd83[_0x1020('0x47')],'text':_0x5efd83[_0x1020('0x48')]+_0x5594fc()});}else{_0x5a0e99[_0x1020('0x48')]({'fill':_0x5efd83[_0x1020('0x46')],'shape':_0x5efd83['shape'],'text':_0x5efd83[_0x1020('0x48')]});}}function _0x5594fc(){return'\x20(\x20'+_0x5a0e99['rate']+'\x20'+_0x2964b9[_0x1020('0x49')](_0x5a0e99[_0x1020('0xa')])+_0x1020('0x4a');}function _0x11cea5(_0x116c05){_0x567139[_0x1020('0x4b')](_0x1020('0x14')+_0x5a0e99[_0x1020('0x3')]+':'+_0x1020('0x15')+_0x5a0e99['id']+'::'+_0x116c05[_0x1020('0x4c')],_0x5a0e99[_0x1020('0xb')],_0x5a0e99['loggingLevel'],_0x5a0e99);_0x48206b={'name':_0x5a0e99[_0x1020('0x3')],'id':_0x3904b7,'timestamp':new Date(),'error':_0x116c05};return[{'payload':_0x48206b}];}function _0x237125(_0xf082dd){switch(_0xf082dd['message']){case _0x1020('0x4d'):_0x91121(_0x1020('0x4e'));_0x5a0e99[_0x1020('0x21')](_0x11cea5({'msg':_0x1020('0x4f')}));clearTimeout(_0x3ae0f1);_0x3ae0f1=setTimeout(_0x2a624f,0xbb8);break;case _0x1020('0x50'):_0x91121('Read\x20Error');_0x5a0e99[_0x1020('0x21')](_0x11cea5({'msg':'Illegal\x20Data\x20Address'}));clearTimeout(_0x3ae0f1);_0x3ae0f1=setTimeout(_0x2a624f,0xbb8);break;case _0x1020('0x51'):_0x91121('Read\x20Error');_0x5a0e99[_0x1020('0x21')](_0x11cea5({'msg':_0x1020('0x52')}));clearTimeout(_0x3ae0f1);_0x3ae0f1=setTimeout(_0x2a624f,0xbb8);break;case _0x1020('0x53'):_0x91121(_0x1020('0x54'));_0x5a0e99['send'](_0x11cea5({'msg':_0x1020('0x55')}));break;case _0x1020('0x56'):_0x91121(_0x1020('0x4e'));_0x5a0e99[_0x1020('0x21')](_0x11cea5({'msg':_0x1020('0x56')}));break;case _0x1020('0x57'):case _0x1020('0x58'):case _0x1020('0x59'):case _0x1020('0x5a'):case _0x1020('0x5b'):case'FSM\x20Reset\x20On\x20State\x20EMPTY':_0x91121('disconnected');_0x5a0e99[_0x1020('0x21')](_0x11cea5({'msg':_0x1020('0x5c')}));_0x2fa15c[_0x1020('0x31')](_0x1020('0x5d'));break;case _0x1020('0x5e'):_0x91121(_0x1020('0x54'));_0x5a0e99[_0x1020('0x21')](_0x11cea5({'msg':_0x1020('0x5f')}));_0x2fa15c[_0x1020('0x31')](_0x1020('0x5d'));break;default:_0x91121('error');_0x5a0e99[_0x1020('0x21')](_0x11cea5({'msg':'Error\x20'+_0xf082dd[_0x1020('0x60')]}));clearTimeout(_0x3ae0f1);_0x3ae0f1=setTimeout(_0x2a624f,0xbb8);}}function _0x5201e8(_0x135795,_0x53c002){_0x53c002=+_0x53c002||0x20;if(_0x53c002>0x20)throw new RangeError('uintToInt\x20only\x20supports\x20ints\x20up\x20to\x2032\x20bits');_0x135795<<=0x20-_0x53c002;_0x135795>>=0x20-_0x53c002;return _0x135795;}function _0x44e918(_0x3b0c2e,_0x303da3){let _0x4bce54=new ArrayBuffer(0x4);let _0x3c157f=new DataView(_0x4bce54);_0x3c157f[_0x1020('0x61')](0x0,_0x3b0c2e,![]);_0x3c157f['setInt16'](0x2,_0x303da3,![]);return _0x3c157f['getFloat32'](0x0,![]);}function _0x398d9d(_0x1a0314){return _0x1a0314[_0x1020('0x62')]();}}_0x591a0b[_0x1020('0x1')][_0x1020('0x63')](_0x1020('0x64'),_0x1758fa);};